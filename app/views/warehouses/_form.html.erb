<% if @warehouse.errors.any? %>
  <p>Verifique os erros abaixo:</p>
  <ul class="list--error-messages">
    <% @warehouse.errors.full_messages.each do |msg|  %>
      <li><%= msg %></li>
    <% end %>
  </ul>
<% end %>

<%= form_with(model: @warehouse, html: { id: "warehouse-form", class: "form" }) do |form| %>
  <p>
    <%= form.label :name %>
    <%= form.text_field :name %>
  </p>

  <p>
    <%= form.label :description %>
    <%= form.text_field :description %>
  </p>

  <p>
    <%= form.label :code %>
    <%= form.text_field :code %>
  </p>

  <p>
    <%= form.label :address %>
    <%= form.text_field :address %>
  </p>

  <p>
    <%= form.label :city %>
    <%= form.text_field :city %>
  </p>

  <p>
    <%= form.label :cep %>
    <%= form.text_field :cep, class: "cep-input", maxlength: '9', placeholder: '00000-000' %>
  </p>

  <p>
    <%= form.label :area %>
    <%= form.number_field :area %>
  </p>

  <%= button_tag "Enviar", type: "submit", class: "btn btn-primary" %>
<% end %>

<script>
  const el = document.querySelector(".cep-input")
  el.addEventListener("keypress", e => {
    length = e.target.value.length

    if(length === 5) {
      el.value += '-'
    }
  })
</script>
